var mongoose = require('mongoose');
var url = 'mongodb://localhost:27017/sharedservices';
//var url = 'mongodb://uur8c9ua1qzn3il:IXPgIlLwd1dea48juI7q@buy3i4hp4znn7sw-mongodb.services.clever-cloud.com:27017/buy3i4hp4znn7sw';
mongoose.connect(url);

var countrySchema = new mongoose.Schema({
	name:String,
	city:{
		name:String
	}
});

var userSchema = new mongoose.Schema({
	fname:String,
	lname:String,
	gender:String,
	dateN:String,
  country:String,
  city:String,
	email:String,
	password:String,
	phone:String,
	driver:Boolean,
	picture:String,
	ptd:Number, pttd:Number,
	ptc:Number, pttc:Number,
	pte:Number, ptte:Number,
	ptp:Number, pttp:Number,
	connected:Boolean,
	salt:String,
});

var demandSchema = new mongoose.Schema({
	service:String,
	idService:String,
	name:String,
	token:String,
	username:String,
	date:String,
	main:Boolean,
	usernameMain:String,
	status:String,
	notify:Boolean,
	pt:{type:Number, min:0, max:40 },
	index:{type:Number, min:0}
});

var carSchema = new mongoose.Schema({
	model:String,
	description:String,
	depart:String,
	destination:String,
	date:String,
	time:String,
	goingComing:String,
	highway:String,
	place:Number,
	status:String,
	dateComplete:Date,
	token:String,
	username:String,
	country:String,
	user_copy:{
		token:String,
		username:String,
		age:String
	}
});

var downloadSchema = new mongoose.Schema({
	picture:String,
	name:String,
	size:Number,
	date:Date,
	dateComplete:Date,
	status:String,
	token:String,
	username:String,
	city:String,
	country:String,
	usersCopy:{
		token:String,
		username:String,
		age:String
	}
});

var countrys = module.exports = mongoose.model('countrys', countrySchema);
var users = module.exports = mongoose.model('users', userSchema);
var demands = module.exports = mongoose.model('demands', demandSchema);
var cars = module.exports = mongoose.model('cars', carSchema);
var downloads = module.exports = mongoose.model('downloads', downloadSchema);
